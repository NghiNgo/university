Ch√†o b·∫°n, ƒë√¢y l√† l·ªùi gi·∫£i cho B√†i t·∫≠p 3.

B√†i t·∫≠p n√†y k·∫øt h·ª£p c·∫£ vi·ªác **ƒë·ªçc file** v√† **ghi file**. Ch∆∞∆°ng tr√¨nh s·∫Ω ƒë·ªçc t·ª´ng d√≤ng (ch·ª©a 3 s·ªë `a`, `b`, `c`) t·ª´ file `ptbac2.txt` m√† b·∫°n ƒë√£ cung c·∫•p, gi·∫£i ph∆∞∆°ng tr√¨nh t∆∞∆°ng ·ª©ng, v√† sau ƒë√≥ ghi k·∫øt qu·∫£ v√†o m·ªôt file m·ªõi t√™n l√† `ketqua.txt`.

Logic gi·∫£i ph∆∞∆°ng tr√¨nh b·∫≠c 2 (`ax^2 + bx + c = 0`) c·∫ßn ƒë∆∞·ª£c chia th√†nh 2 tr∆∞·ªùng h·ª£p ch√≠nh:

1.  **$a = 0$**: Ph∆∞∆°ng tr√¨nh tr·ªü th√†nh ph∆∞∆°ng tr√¨nh b·∫≠c nh·∫•t $bx + c = 0$.
2.  **$a \neq 0$**: Ph∆∞∆°ng tr√¨nh l√† b·∫≠c 2, ch√∫ng ta s·∫Ω t√≠nh $\Delta$ (Delta) ƒë·ªÉ x√©t nghi·ªám.

-----

### üìù B√†i 3: Gi·∫£i Ph∆∞∆°ng Tr√¨nh B·∫≠c 2 T·ª´ File

ƒê√¢y l√† code C++ cho ch∆∞∆°ng tr√¨nh.

```cpp
/*
 * Giai Bai tap 3: Doc a, b, c tu file, giai PT bac 2,
 * va ghi ket qua vao file khac.
 */
#include <stdio.h>
#include <stdlib.h> // De dung ham exit()
#include <math.h>   // De dung ham sqrt()

/**
 * @brief Giai phuong trinh bac 2 va GHI KET QUA vao file
 * @param a He so bac 2
 * @param b He so bac 1
 * @param c He so tu do
 * @param fp_out Con tro file (da mo) de ghi ket qua vao
 */
void GiaiVaGhiKetQua(int a, int b, int c, FILE* fp_out) {
    // In phuong trinh dang giai ra file
    fprintf(fp_out, "Phuong trinh: %dx^2 + %dx + %d = 0\n", a, b, c);

    // --- TRUONG HOP 1: a = 0 (Phuong trinh bac nhat bx + c = 0) ---
    if (a == 0) {
        if (b == 0) {
            if (c == 0) {
                // 0x + 0 = 0
                fprintf(fp_out, "  -> Ket qua: Phuong trinh co VO SO NGHIEM.\n");
            } else {
                // 0x + c = 0 (voi c != 0)
                fprintf(fp_out, "  -> Ket qua: Phuong trinh VO NGHIEM.\n");
            }
        } else {
            // bx + c = 0 (voi b != 0)
            float x = (float)-c / b;
            fprintf(fp_out, "  -> Phuong trinh bac nhat co 1 nghiem: x = %.2f\n", x);
        }
    }
    // --- TRUONG HOP 2: a != 0 (Phuong trinh bac 2) ---
    else {
        // Tinh delta (dung kieu double de dam bao chinh xac)
        double delta = (double)b * b - 4 * a * c;
        
        if (delta < 0) {
            // Delta < 0
            fprintf(fp_out, "  -> Delta = %.2f < 0. Phuong trinh VO NGHIEM THUC.\n", delta);
        } else if (delta == 0) {
            // Delta = 0
            float x = (float)-b / (2 * a);
            fprintf(fp_out, "  -> Delta = 0. Phuong trinh co NGHIEM KEP: x1 = x2 = %.2f\n", x);
        } else {
            // Delta > 0
            double x1 = (-b + sqrt(delta)) / (2 * a);
            double x2 = (-b - sqrt(delta)) / (2 * a);
            fprintf(fp_out, "  -> Delta = %.2f > 0. Phuong trinh co 2 NGHIEM PHAN BIET:\n", delta);
            fprintf(fp_out, "     x1 = %.2f\n", x1);
            fprintf(fp_out, "     x2 = %.2f\n", x2);
        }
    }
    
    // Them mot dong phan cach cho de doc
    fprintf(fp_out, "------------------------------------------\n");
}

int main() {
    // Ten file dau vao va dau ra
    char file_vao[] = "ptbac2.txt";
    char file_ra[] = "ketqua.txt";

    // 1. Khai bao con tro file
    FILE *fp_in, *fp_out;
    int a, b, c;

    // 2. Mo file
    fp_in = fopen(file_vao, "rt"); // Mo file de doc
    fp_out = fopen(file_ra, "wt"); // Mo file de ghi

    // 3. Kiem tra mo file
    if (fp_in == NULL) {
        printf("Loi: Khong the mo file dau vao %s\n", file_vao);
        exit(1);
    }
    if (fp_out == NULL) {
        printf("Loi: Khong the mo file dau ra %s\n", file_ra);
        fclose(fp_in); // Dong file da mo truoc do
        exit(1);
    }

    printf("Bat dau doc file %s va giai phuong trinh...\n", file_vao);

    // 4. Doc file va xu ly
    // Chung ta se doc lien tuc 3 so nguyen cho den khi het file
    // Ham fscanf() tra ve so luong bien ma no doc thanh cong.
    // Neu no tra ve 3 (tuc la doc duoc a, b, c) thi chung ta xu ly.
    // Cach nay tot hon la dung while(!feof(fp_in))
    while (fscanf(fp_in, "%d %d %d", &a, &b, &c) == 3) {
        // Voi moi bo 3 so doc duoc, goi ham de giai va ghi ket qua
        GiaiVaGhiKetQua(a, b, c, fp_out);
    }

    // 5. Dong ca hai file
    fclose(fp_in);
    fclose(fp_out);

    printf("Da giai xong va ghi ket qua vao file %s\n", file_ra);

    return 0;
}
```

### üìã V√≠ d·ª• file `ketqua.txt` (K·∫øt qu·∫£ ƒë·∫ßu ra)

Sau khi ch·∫°y ch∆∞∆°ng tr√¨nh tr√™n v·ªõi file `ptbac2.txt` l√†m ƒë·∫ßu v√†o, file `ketqua.txt` s·∫Ω c√≥ n·ªôi dung nh∆∞ sau:

```text
Phuong trinh: 1x^2 + 2x + 1 = 0
  -> Delta = 0. Phuong trinh co NGHIEM KEP: x1 = x2 = -1.00
------------------------------------------
Phuong trinh: 1x^2 + -2x + 1 = 0
  -> Delta = 0. Phuong trinh co NGHIEM KEP: x1 = x2 = 1.00
------------------------------------------
Phuong trinh: 1x^2 + 2x + 3 = 0
  -> Delta = -8.00 < 0. Phuong trinh VO NGHIEM THUC.
------------------------------------------
Phuong trinh: 1x^2 + 2x + -3 = 0
  -> Delta = 16.00 > 0. Phuong trinh co 2 NGHIEM PHAN BIET:
     x1 = 1.00
     x2 = -3.00
------------------------------------------
Phuong trinh: 1x^2 + -3x + 2 = 0
  -> Delta = 1.00 > 0. Phuong trinh co 2 NGHIEM PHAN BIET:
     x1 = 2.00
     x2 = 1.00
------------------------------------------
Phuong trinh: 0x^2 + 1x + 2 = 0
  -> Phuong trinh bac nhat co 1 nghiem: x = -2.00
------------------------------------------
Phuong trinh: 0x^2 + 0x + 0 = 0
  -> Ket qua: Phuong trinh co VO SO NGHIEM.
------------------------------------------
Phuong trinh: 0x^2 + 0x + 3 = 0
  -> Ket qua: Phuong trinh VO NGHIEM.
------------------------------------------
Phuong trinh: 3x^2 + 1x + 2 = 0
  -> Delta = -23.00 < 0. Phuong trinh VO NGHIEM THUC.
------------------------------------------
```