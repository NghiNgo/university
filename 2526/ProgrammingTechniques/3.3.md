Ch√†o b·∫°n, ƒë√¢y l√† l·ªùi gi·∫£i chi ti·∫øt cho B√†i t·∫≠p 3.3.

B√†i to√°n n√†y c√≥ th·ªÉ ƒë∆∞·ª£c gi·∫£i b·∫±ng c·∫£ hai ph∆∞∆°ng ph√°p: v√≤ng l·∫∑p (kh√¥ng ƒë·ªá quy) v√† ƒë·ªá quy.

### 1\. ‚è© Ph∆∞∆°ng ph√°p Kh√¥ng ƒê·ªá quy (Iterative / V√≤ng l·∫∑p)

ƒê√¢y l√† c√°ch gi·∫£i quy·∫øt tr·ª±c quan, m√¥ ph·ªèng qu√° tr√¨nh nh√¢n b·∫£n qua t·ª´ng gi·ªù b·∫±ng m·ªôt v√≤ng l·∫∑p.

  * Ch√∫ng ta b·∫Øt ƒë·∫ßu v·ªõi `total = n` con vi tr√πng.
  * Ch√∫ng ta l·∫∑p `h` l·∫ßn (t∆∞∆°ng ·ª©ng v·ªõi `h` gi·ªù).
  * Trong m·ªói gi·ªù (m·ªói l·∫ßn l·∫∑p), ch√∫ng ta nh√¢n s·ªë l∆∞·ª£ng vi tr√πng hi·ªán t·∫°i (`total`) l√™n `k` l·∫ßn.

<!-- end list -->

```cpp
/**
 * @brief Tinh so luong vi trung (Khong de quy - Iterative)
 * @param n So luong ban dau
 * @param k So lan nhan ban moi gio
 * @param h Tong so gio
 * @return Tong so vi trung
 */
long long TinhViTrung_Iterative(int n, int k, int h) {
    // Su dung long long de tranh bi tran so khi ket qua qua lon
    long long total = n;
    
    // Lap lai h lan (tuong ung h gio)
    for (int i = 0; i < h; i++) {
        // Moi gio, tong so luong nhan len k lan
        total *= k;
    }
    
    return total;
}
```

*L∆∞u √Ω: V·ªÅ m·∫∑t to√°n h·ªçc, ƒë√¢y ch√≠nh l√† c√¥ng th·ª©c $total = n \times k^h$.*

-----

### 2\. üîÑ Ph∆∞∆°ng ph√°p ƒê·ªá quy (Recursive)

Ch√∫ng ta c·∫ßn x√°c ƒë·ªãnh c√¥ng th·ª©c truy h·ªìi cho b√†i to√°n:

  * G·ªçi `Count(h)` l√† s·ªë vi tr√πng sau `h` gi·ªù.
  * **Ph·∫ßn c∆° s·ªü (Base Case):** T·∫°i th·ªùi ƒëi·ªÉm ban ƒë·∫ßu (`h = 0`), s·ªë vi tr√πng l√† `n`.
      * `Count(0) = n`
  * **Ph·∫ßn ƒë·ªá quy (Recursive Step):** S·ªë vi tr√πng sau `h` gi·ªù b·∫±ng `k` l·∫ßn s·ªë vi tr√πng sau `h-1` gi·ªù.
      * `Count(h) = k * Count(h-1)`

<!-- end list -->

```cpp
/**
 * @brief Tinh so luong vi trung (De quy - Recursive)
 * @param n So luong ban dau
 * @param k So lan nhan ban moi gio
 * @param h Tong so gio
 * @return Tong so vi trung
 */
long long TinhViTrung_Recursive(int n, int k, int h) {
    
    // --- Phan co so (Base Case) ---
    // Neu so gio = 0, tra ve so luong ban dau
    if (h == 0) {
        return n;
    }
    
    // --- Phan de quy (Recursive Step) ---
    // So luong(h) = k * So luong(h-1)
    return k * TinhViTrung_Recursive(n, k, h - 1);
}
```

-----

### 3\. üñ•Ô∏è Ch∆∞∆°ng tr√¨nh ch√≠nh ƒë·ªÉ ki·ªÉm tra

ƒê√¢y l√† h√†m `main` ƒë·ªÉ b·∫°n ch·∫°y th·ª≠ c·∫£ hai ph∆∞∆°ng ph√°p.

```cpp
#include <iostream>

using namespace std;

// ... (Copy 2 ham TinhViTrung_Iterative va TinhViTrung_Recursive vao day) ...

int main() {
    // Thong so ban dau
    int n = 10; // Ban dau co 10 con
    int k = 2;  // Nhan 2 lan moi gio (nhan doi)
    int h = 3;  // Sau 3 gio

    /*
     * Mong doi ket qua:
     * Gio 0: 10
     * Gio 1: 10 * 2 = 20
     * Gio 2: 20 * 2 = 40
     * Gio 3: 40 * 2 = 80
     */

    cout << "Bai toan: n=" << n << " (ban dau), k=" << k << " (nhan ban), h=" << h << " (gio)\n";
    
    cout << "Ket qua (Khong de quy): " << TinhViTrung_Iterative(n, k, h) << endl;
    cout << "Ket qua (De quy):       " << TinhViTrung_Recursive(n, k, h) << endl;

    cout << "\n--- Vi du 2 ---" << endl;
    n = 5;
    k = 3;
    h = 4;
    // Ket qua = 5 * (3^4) = 5 * 81 = 405
    cout << "Bai toan: n=" << n << ", k=" << k << ", h=" << h << endl;
    cout << "Ket qua (Khong de quy): " << TinhViTrung_Iterative(n, k, h) << endl;
    cout << "Ket qua (De quy):       " << TinhViTrung_Recursive(n, k, h) << endl;

    return 0;
}
```