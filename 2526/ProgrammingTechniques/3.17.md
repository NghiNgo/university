ChÃ o báº¡n, Ä‘Ã¢y lÃ  lá»i giáº£i chi tiáº¿t cho BÃ i táº­p 3.17.

ÄÃ¢y lÃ  bÃ i toÃ¡n kinh Ä‘iá»ƒn (classic) Ä‘á»ƒ minh há»a sá»©c máº¡nh cá»§a tÆ° duy **Ä‘á»‡ quy** vÃ  chiáº¿n lÆ°á»£c **Chia Ä‘á»ƒ trá»‹ (Divide and Conquer)**.

### ğŸ§  PhÃ¢n tÃ­ch BÃ i toÃ¡n ThÃ¡p HÃ  Ná»™i

Má»¥c tiÃªu lÃ  di chuyá»ƒn $n$ Ä‘Ä©a tá»« cá»c Nguá»“n (A) sang cá»c ÄÃ­ch (C), sá»­ dá»¥ng má»™t cá»c Trung gian (B), vá»›i 2 quy táº¯c:

1.  Má»—i láº§n chá»‰ Ä‘Æ°á»£c di chuyá»ƒn 1 Ä‘Ä©a.
2.  KhÃ´ng bao giá» Ä‘Æ°á»£c Ä‘áº·t Ä‘Ä©a lá»›n lÃªn trÃªn Ä‘Ä©a nhá».

TÆ° duy Ä‘á»‡ quy Ä‘á»ƒ giáº£i bÃ i toÃ¡n nÃ y nhÆ° sau:

**Äá»ƒ di chuyá»ƒn $n$ Ä‘Ä©a tá»« A sang C:**

1.  **(Äá»‡ quy)** Báº¡n pháº£i di chuyá»ƒn $n-1$ Ä‘Ä©a (táº¥t cáº£ trá»« Ä‘Ä©a lá»›n nháº¥t) tá»« A sang B (láº¥y C lÃ m trung gian).
2.  **(HÃ nh Ä‘á»™ng)** Di chuyá»ƒn 1 Ä‘Ä©a (lá»›n nháº¥t) tá»« A sang C.
3.  **(Äá»‡ quy)** Báº¡n pháº£i di chuyá»ƒn $n-1$ Ä‘Ä©a tá»« B sang C (láº¥y A lÃ m trung gian).

Äiá»ƒm dá»«ng (Base Case) cá»§a chÃºng ta lÃ  khi chá»‰ cÃ²n 1 Ä‘Ä©a ($n=1$), ta chá»‰ cáº§n di chuyá»ƒn nÃ³ trá»±c tiáº¿p tá»« Nguá»“n sang ÄÃ­ch.

-----

### ğŸ–¥ï¸ Code C++: Giáº£i BÃ i toÃ¡n ThÃ¡p HÃ  Ná»™i

ChÆ°Æ¡ng trÃ¬nh C++ dÆ°á»›i Ä‘Ã¢y sáº½ mÃ´ phá»ng cÃ¡c bÆ°á»›c di chuyá»ƒn cáº§n thiáº¿t.

```cpp
/*
 * Giai Bai tap 3.17: Bai toan Thap Ha Noi (De quy)
 */
#include <iostream>

using namespace std;

/**
 * @brief Ham de quy giai bai toan Thap Ha Noi
 * @param n So luong dia
 * @param cotNguon Ten coc nguon (Vi du: 'A')
 * @param cotDich Ten coc dich (Vi du: 'C')
 * @param cotTrungGian Ten coc trung gian (Vi du: 'B')
 */
void ThapHaNoi(int n, char cotNguon, char cotDich, char cotTrungGian) {
    
    // --- Phan co so (Base Case) ---
    // Neu chi co 1 dia, di chuyen luon va dung lai.
    if (n == 1) {
        cout << "Chuyen dia 1 tu " << cotNguon << " sang " << cotDich << endl;
        return;
    }

    // --- Phan de quy (Recursive Step) ---
    
    // Buoc 1: Chuyen n-1 dia tu NGUON sang TRUNG GIAN
    // (Luc nay, cotDich tro thanh cot ho tro)
    ThapHaNoi(n - 1, cotNguon, cotTrungGian, cotDich);

    // Buoc 2: Chuyen dia lon nhat (dia thu n) tu NGUON sang DICH
    cout << "Chuyen dia " << n << " tu " << cotNguon << " sang " << cotDich << endl;

    // Buoc 3: Chuyen n-1 dia tu TRUNG GIAN sang DICH
    // (Luc nay, cotNguon tro thanh cot ho tro)
    ThapHaNoi(n - 1, cotTrungGian, cotDich, cotNguon);
}


// ===================================================================
// Ham main de kiem tra
// ===================================================================
int main() {
    int n;
    
    cout << "Nhap so luong dia (n): ";
    cin >> n;

    if (n <= 0) {
        cout << "n phai la so duong." << endl;
        return 1;
    }

    cout << "\nCac buoc di chuyen Thap Ha Noi voi " << n << " dia:\n";
    
    // Bat dau di chuyen n dia tu coc 'A' sang coc 'C', dung 'B' lam trung gian
    ThapHaNoi(n, 'A', 'C', 'B');

    // Tong so buoc di chuyen luon la (2^n - 1)
    
    return 0;
}
```

### ğŸ“‹ VÃ­ dá»¥ káº¿t quáº£ (vá»›i $n=3$)

```text
Nhap so luong dia (n): 3

Cac buoc di chuyen Thap Ha Noi voi 3 dia:
Chuyen dia 1 tu A sang C
Chuyen dia 2 tu A sang B
Chuyen dia 1 tu C sang B
Chuyen dia 3 tu A sang C
Chuyen dia 1 tu B sang A
Chuyen dia 2 tu B sang C
Chuyen dia 1 tu A sang C
```