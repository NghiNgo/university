Chào bạn, đây là code C++ cho Bài tập 1.3, với đầy đủ các hàm xử lý ma trận và phần chú thích chi tiết.

[cite\_start]Tôi sẽ tái sử dụng hàm `LaSNT` (Kiểm tra số nguyên tố) từ file `MaTran.cpp` [cite: 7, 21-31] [cite\_start]và logic sắp xếp mảng 1 chiều [cite: 2129-2140] để áp dụng cho từng hàng của ma trận.

```cpp
/*
 * Chuong trinh xu ly ma tran m x n cac so nguyen
 * Giai Bai tap 1.3 tu yeu cau
 */

#include <iostream>
#include <iomanip> // Thu vien cho viec can le (setw)
#include <math.h>   // Thu vien cho ham sqrt() (dung cho LaSNT)

using namespace std;

// Dinh nghia kich thuoc toi da cho ma tran
#define MAX_HANG 50
#define MAX_COT 50

// Khai bao kieu ma tran de su dung cho gon gang
[cite_start]// (Logic tuong tu file MaTran.cpp [cite: 5])
typedef int MaTran[MAX_HANG][MAX_COT];

// ===================================================================
// a) Dinh nghia cac ham
// ===================================================================

// --- Cac ham phu tro (Helper Functions) ---

/**
 * @brief Kiem tra 1 so co phai la So Nguyen To
 * @param n So nguyen can kiem tra
 * @return true neu n la SNT, false neu khong phai
 * [cite_start](Logic duoc tham khao tu file MaTran.cpp [cite: 7, 21-31])
 */
bool LaSNT(int n) {
    if (n < 2) return false;
    // Toi uu hon la chay den sqrt(n), nhung theo file mau ta dung n/2
    for (int i = 2; i <= n / 2; i++) {
        if (n % i == 0) return false;
    }
    return true;
}

/**
 * @brief Hoan vi gia tri cua 2 so nguyen
 * @param a So thu nhat (truyen tham chieu)
 * @param b So thu hai (truyen tham chieu)
 */
void HoanVi(int &a, int &b) {
    int temp = a;
    a = b;
    b = temp;
}


// --- Cac ham theo yeu cau ---

/**
 * @brief Nhap ma tran m x n
 * @param a Ma tran can nhap (kieu MaTran da typedef)
 * @param m So hang (truyen tham chieu de cap nhat)
 * @param n So cot (truyen tham chieu de cap nhat)
 * [cite_start](Logic tuong tu file MaTran.cpp [cite: 6, 8-20])
 */
void NhapMaTran(MaTran a, int &m, int &n) {
    do {
        cout << "Nhap so hang (0 < m <= " << MAX_HANG << "): ";
        cin >> m;
    } while (m <= 0 || m > MAX_HANG);

    do {
        cout << "Nhap so cot (0 < n <= " << MAX_COT << "): ";
        cin >> n;
    } while (n <= 0 || n > MAX_COT);

    cout << "Nhap " << m * n << " phan tu cho ma tran:\n";
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            cout << "  a[" << i << "][" << j << "] = ";
            cin >> a[i][j];
        }
    }
}

/**
 * @brief Xuat ma tran m x n
 * @param a Ma tran can xuat
 * @param m So hang
 * @param n So cot
 * [cite_start](Logic tuong tu file MaTran.cpp [cite: 6, 22-31])
 */
void XuatMaTran(MaTran a, int m, int n) {
    cout << "\n--- Ma Tran " << m << "x" << n << " ---\n";
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            // setw(6) de moi phan tu chiem 6 cho, giup can le dep
            cout << setw(6) << a[i][j];
        }
        cout << endl; // Xuong hang khi het 1 hang
    }
}

/**
 * @brief Tinh trung binh cong cua tat ca phan tu trong ma tran
 * @param a Ma tran can tinh
 * @param m So hang
 * @param n So cot
 * @return Gia tri trung binh (kieu double)
 */
double TinhTB(MaTran a, int m, int n) {
    double tong = 0;
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            tong += a[i][j];
        }
    }
    return tong / (m * n);
}

/**
 * @brief Tim phan tu lon nhat trong toan bo ma tran
 * @param a Ma tran can tim
 * @param m So hang
 * @param n So cot
 * @return Gia tri lon nhat tim duoc
 * [cite_start](Logic tuong tu file MaTran.cpp [cite: 6, 33-43])
 */
int TimMaxToanMT(MaTran a, int m, int n) {
    // Gia su phan tu dau tien a[0][0] la lon nhat
    int maxVal = a[0][0];

    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            if (a[i][j] > maxVal) {
                maxVal = a[i][j];
            }
        }
    }
    return maxVal;
}

/**
 * @brief Tim phan tu lon nhat tren mot HANG
 * @param a Ma tran can tim
 * @param m So hang (de kiem tra hang 'i' co hop le)
 * @param n So cot
 * @param i Chi so hang can tim (vi du: hang 0, hang 1,...)
 * @return Gia tri lon nhat tren hang 'i'
 */
int TimMaxTrenHang(MaTran a, int m, int n, int i) {
    // Kiem tra chi so hang 'i' co hop le khong
    if (i < 0 || i >= m) {
        cout << "Chi so hang " << i << " khong hop le!\n";
        return -1; // Tra ve gia tri loi
    }
    
    // Gia su phan tu dau tien cua hang (a[i][0]) la lon nhat
    int maxVal = a[i][0];
    
    // Duyet cac cot con lai (tu 1 den n-1) cua hang 'i'
    for (int j = 1; j < n; j++) {
        if (a[i][j] > maxVal) {
            maxVal = a[i][j];
        }
    }
    return maxVal;
}

/**
 * @brief Tim phan tu lon nhat tren mot COT
 * @param a Ma tran can tim
 * @param m So hang
 * @param n So cot (de kiem tra cot 'j' co hop le)
 * @param j Chi so cot can tim (vi du: cot 0, cot 1,...)
 * @return Gia tri lon nhat tren cot 'j'
 */
int TimMaxTrenCot(MaTran a, int m, int n, int j) {
    // Kiem tra chi so cot 'j' co hop le khong
    if (j < 0 || j >= n) {
        cout << "Chi so cot " << j << " khong hop le!\n";
        return -1; // Tra ve gia tri loi
    }

    // Gia su phan tu dau tien cua cot (a[0][j]) la lon nhat
    int maxVal = a[0][j];

    // Duyet cac hang con lai (tu 1 den m-1) cua cot 'j'
    for (int i = 1; i < m; i++) {
        if (a[i][j] > maxVal) {
            maxVal = a[i][j];
        }
    }
    return maxVal;
}

/**
 * @brief Dem so luong so nguyen to trong ma tran
 * @param a Ma tran can dem
 * @param m So hang
 * @param n So cot
 * @return So luong SNT dem duoc
 * [cite_start](Logic tuong tu file MaTran.cpp [cite: 7, 54-62])
 */
int DemSNT(MaTran a, int m, int n) {
    int count = 0;
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            if (LaSNT(a[i][j])) {
                count++;
            }
        }
    }
    return count;
}

/**
 * @brief Sap xep cac phan tu tren MOI HANG tang dan
 * @param a Ma tran can sap xep (truyen tham chieu qua ten mang)
 * @param m So hang
 * @param n So cot
 */
void SapXepHangTangDan(MaTran a, int m, int n) {
    // Duyet qua tung hang (i tu 0 den m-1)
    for (int i = 0; i < m; i++) {
        // Voi moi hang a[i], ta coi no la mot mang 1 chieu n phan tu
        // va ap dung thuat toan sap xep mang 1 chieu cho no
        [cite_start]// (Logic tuong tu KTLT_C03.1_Mang1Chieu.pdf [cite: 2129-2140])
        for (int j = 0; j < n - 1; j++) {
            for (int k = j + 1; k < n; k++) {
                // Neu phan tu truoc > phan tu sau thi hoan vi
                if (a[i][j] > a[i][k]) {
                    HoanVi(a[i][j], a[i][k]);
                }
            }
        }
    }
}


// ===================================================================
// b) Chuong trinh chinh (de minh hoa cac ham)
// ===================================================================
int main() {
    MaTran a;
    int m, n;

    // 1. Nhap/Xuat
    NhapMaTran(a, m, n);
    XuatMaTran(a, m, n);

    // 2. Tinh trung binh
    cout << "\n--- Tinh Toan ---\n";
    cout << "Trung binh cong cac phan tu: " 
         << fixed << setprecision(2) << TinhTB(a, m, n) << endl;

    // 3. Tim Max toan bo
    cout << "Phan tu lon nhat trong ma tran: " 
         << TimMaxToanMT(a, m, n) << endl;

    // 4. Dem SNT
    cout << "So luong so nguyen to trong ma tran: " 
         << DemSNT(a, m, n) << endl;

    // 5. Tim Max tren hang/cot (Vi du: hang 0, cot 1)
    cout << "\n--- Tim Max Hang/Cot (Vi du: Hang 0, Cot 1) ---\n";
    if (m > 0) { // Kiem tra co hang 0
        cout << "Phan tu lon nhat tren hang 0: " 
             << TimMaxTrenHang(a, m, n, 0) << endl;
    }
    if (n > 1) { // Kiem tra co cot 1
        cout << "Phan tu lon nhat tren cot 1: " 
             << TimMaxTrenCot(a, m, n, 1) << endl;
    }

    // 6. Sap xep hang tang dan
    cout << "\n--- Sap xep ma tran (tung hang tang dan) ---\n";
    SapXepHangTangDan(a, m, n);
    XuatMaTran(a, m, n);

    return 0;
}
```