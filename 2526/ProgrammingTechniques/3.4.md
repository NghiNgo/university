Ch√†o b·∫°n, ƒë√¢y l√† l·ªùi gi·∫£i chi ti·∫øt cho B√†i t·∫≠p 3.4.

B√†i to√°n n√†y l√† m·ªôt b√†i to√°n **l√£i k√©p** (compound interest) c·ªï ƒëi·ªÉn. V·ªÅ m·∫∑t logic, n√≥ gi·ªëng h·ªát b√†i to√°n vi tr√πng (B√†i 3.3). Thay v√¨ *nh√¢n b·∫£n `k` l·∫ßn*, ·ªü ƒë√¢y s·ªë ti·ªÅn *nh√¢n b·∫£n `(1 + i/100)` l·∫ßn* m·ªói nƒÉm.

Ch√∫ng ta s·∫Ω gi·∫£i b·∫±ng c·∫£ hai ph∆∞∆°ng ph√°p.

### 1\. ‚è© Ph∆∞∆°ng ph√°p Kh√¥ng ƒê·ªá quy (Iterative / V√≤ng l·∫∑p)

Ch√∫ng ta d√πng m·ªôt v√≤ng l·∫∑p ch·∫°y `n` l·∫ßn (t∆∞∆°ng ·ª©ng `n` nƒÉm). V·ªõi m·ªói nƒÉm, ta t√≠nh s·ªë ti·ªÅn m·ªõi b·∫±ng c√°ch l·∫•y s·ªë ti·ªÅn hi·ªán t·∫°i nh√¢n v·ªõi `(1 + l√£i su·∫•t)`.

  * **L√£i su·∫•t (d·∫°ng th·∫≠p ph√¢n):** `rate = i / 100.0` (v√≠ d·ª•: 5% = 0.05)
  * **H·ªá s·ªë nh√¢n h√†ng nƒÉm:** `1.0 + rate` (v√≠ d·ª•: 1.05)
  * **NƒÉm 1:** `total = m * (1.0 + rate)`
  * **NƒÉm 2:** `total = (total_nam_1) * (1.0 + rate) = m * (1.0 + rate) * (1.0 + rate)`
  * ...
  * **NƒÉm n:** `total = m * (1.0 + rate)^n`

<!-- end list -->

```cpp
/**
 * @brief Tinh tien lai kep (Khong de quy - Iterative)
 * @param m So tien goc (USD)
 * @param i Lai suat (%/nam, vi du: 5.5)
 * @param n So nam gui
 * @return Tong so tien (goc + lai)
 */
double TinhLaiKep_Iterative(double m, double i, int n) {
    // Chuyen lai suat % thanh dang thap phan
    double rate = i / 100.0;
    
    // Su dung double de luu so tien (co the la so le)
    double total = m;

    // Lap n lan, tuong ung voi n nam
    for (int j = 0; j < n; j++) {
        // Moi nam, tong so tien duoc nhan voi (1 + rate)
        // Vi du: total = total + total * rate;
        total *= (1.0 + rate);
    }
    
    return total;
}
```

-----

### 2\. üîÑ Ph∆∞∆°ng ph√°p ƒê·ªá quy (Recursive)

Ch√∫ng ta ƒë·ªãnh nghƒ©a b√†i to√°n m·ªôt c√°ch ƒë·ªá quy:

  * G·ªçi `Amount(n)` l√† s·ªë ti·ªÅn c√≥ ƒë∆∞·ª£c sau `n` nƒÉm.
  * **Ph·∫ßn c∆° s·ªü (Base Case):** Sau 0 nƒÉm (`n = 0`), s·ªë ti·ªÅn v·∫´n l√† `m`.
      * `Amount(0) = m`
  * **Ph·∫ßn ƒë·ªá quy (Recursive Step):** S·ªë ti·ªÅn sau `n` nƒÉm b·∫±ng s·ªë ti·ªÅn sau `n-1` nƒÉm nh√¢n v·ªõi `(1 + l√£i su·∫•t)`.
      * `Amount(n) = Amount(n-1) * (1.0 + i / 100.0)`

<!-- end list -->

```cpp
/**
 * @brief Tinh tien lai kep (De quy - Recursive)
 * @param m So tien goc (USD)
 * @param i Lai suat (%/nam)
 * @param n So nam gui
 * @return Tong so tien (goc + lai)
 */
double TinhLaiKep_Recursive(double m, double i, int n) {
    
    // --- Phan co so (Base Case) ---
    // Neu so nam = 0, tra ve so tien goc
    if (n == 0) {
        return m;
    }

    // --- Phan de quy (Recursive Step) ---
    // Tinh he so nhan
    double factor = 1.0 + (i / 100.0);
    
    // Amount(n) = Amount(n-1) * factor
    return TinhLaiKep_Recursive(m, i, n - 1) * factor;
}
```

*L∆∞u √Ω: Trong c√°ch gi·∫£i ƒë·ªá quy n√†y, `m` l√† s·ªë ti·ªÅn g·ªëc ban ƒë·∫ßu, v√† n√≥ ƒë∆∞·ª£c d√πng l√†m gi√° tr·ªã "neo" (anchor) ·ªü `n=0`. K·∫øt qu·∫£ c·ªßa `n-1` s·∫Ω ƒë∆∞·ª£c nh√¢n d·ªìn l√™n cho ƒë·∫øn khi `n=0` th√¨ tr·∫£ v·ªÅ `m`.*

-----

### 3\. üñ•Ô∏è Ch∆∞∆°ng tr√¨nh ch√≠nh ƒë·ªÉ ki·ªÉm tra

ƒê√¢y l√† h√†m `main` ƒë·ªÉ b·∫°n ch·∫°y th·ª≠ c·∫£ hai ph∆∞∆°ng ph√°p.

```cpp
#include <iostream>
#include <iomanip> // Thu vien de format so dep (setprecision)

using namespace std;

// ... (Copy 2 ham TinhLaiKep_Iterative va TinhLaiKep_Recursive vao day) ...

int main() {
    double m = 1000.0; // 1000 USD
    double i = 5.0;    // Lai suat 5%/nam
    int n = 10;        // Gui trong 10 nam

    // Cau hinh de cout in ra so thap phan co 2 chu so
    cout << fixed << setprecision(2);

    cout << "Bai toan Lai Kep:\n";
    cout << "  Tien goc (m): " << m << " USD\n";
    cout << "  Lai suat (i): " << i << " %/nam\n";
    cout << "  So nam (n):   " << n << " nam\n";

    cout << "\nKet qua (Khong de quy): " 
         << TinhLaiKep_Iterative(m, i, n) << " USD\n";
    
    cout << "Ket qua (De quy):       " 
         << TinhLaiKep_Recursive(m, i, n) << " USD\n";

    /*
     * Ket qua mong doi:
     * 1000 * (1.05)^10 = 1000 * 1.62889... = 1628.89
     */

    return 0;
}
```